{"version":3,"file":null,"sources":["/home/ubuntu/projects/micro-media/node_modules/domassist/lib/findOne.js","/home/ubuntu/projects/micro-media/node_modules/domassist/lib/isWindow.js","/home/ubuntu/projects/micro-media/node_modules/domassist/lib/find.js","/home/ubuntu/projects/micro-media/node_modules/domassist/lib/on.js","/home/ubuntu/projects/micro-media/node_modules/domassist/lib/hide.js","/home/ubuntu/projects/micro-media/node_modules/domassist/lib/scrollableContainer.js","/home/ubuntu/projects/micro-media/node_modules/domassist/lib/show.js","/home/ubuntu/projects/micro-media/node_modules/domassist/lib/styles.js","/home/ubuntu/projects/micro-media/node_modules/dropzone/dist/dropzone.js","/home/ubuntu/projects/micro-media/views/single.js"],"sourcesContent":["import find from './find';\n\nfunction findOne(selector, el) {\n  const found = find(selector, el);\n\n  if (found.length) {\n    return found[0];\n  }\n\n  return null;\n}\n\nexport default findOne;\n","function isWindow(obj) {\n  return obj != null && obj === obj.window;\n}\n\nexport default isWindow;\n","import findOne from './findOne';\nimport isWindow from './isWindow';\n\nfunction find(selector, context = null) {\n  if (selector instanceof HTMLElement || selector instanceof Node || isWindow(selector)) {\n    return [selector];\n  } else if (selector instanceof NodeList) {\n    return [].slice.call(selector);\n  } else if (typeof selector === 'string') {\n    const startElement = (context) ? findOne(context) : document;\n    return [].slice.call(startElement.querySelectorAll(selector));\n  }\n  return [];\n}\n\nexport default find;\n","import find from './find';\n\nfunction on(selector, event, cb, capture = false) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => on(item, event, cb, capture));\n    return;\n  }\n\n  const data = {\n    cb,\n    capture\n  };\n\n  if (!window._domassistevents) {\n    window._domassistevents = {};\n  }\n\n  window._domassistevents[`_${event}`] = data;\n  const el = find(selector);\n  if (el.length) {\n    el.forEach((item) => {\n      item.addEventListener(event, cb, capture);\n    });\n  }\n}\n\nexport default on;\n","import find from './find';\n\nfunction hide(selector) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => hide(item));\n  }\n  const els = find(selector);\n  if (els.length) {\n    els.forEach((el) => {\n      const currentDisplay = window.getComputedStyle(el).getPropertyValue('display');\n\n      if (currentDisplay !== 'none') {\n        el.dataset._currentDisplay = currentDisplay;\n        el.style.display = 'none';\n      }\n    });\n  }\n}\n\nexport default hide;\n","let SCROLLABLE_CONTAINER;\n\nfunction getScrollableContainer() {\n  if (SCROLLABLE_CONTAINER) {\n    return SCROLLABLE_CONTAINER;\n  }\n\n  const documentElement = window.document.documentElement;\n  let scrollableContainer;\n\n  documentElement.scrollTop = 1;\n\n  if (documentElement.scrollTop === 1) {\n    documentElement.scrollTop = 0;\n    scrollableContainer = documentElement;\n  } else {\n    scrollableContainer = document.body;\n  }\n\n  SCROLLABLE_CONTAINER = scrollableContainer;\n\n  return scrollableContainer;\n}\n\nSCROLLABLE_CONTAINER = getScrollableContainer();\n\nexport default getScrollableContainer;\n","import find from './find';\n\nfunction show(selector) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => show(item));\n  }\n  const els = find(selector);\n  if (els.length) {\n    els.forEach((el) => {\n      el.style.display = el.dataset._currentDisplay || 'block';\n    });\n  }\n}\n\nexport default show;\n","import find from './find';\n\nfunction styles(selector, css) {\n  if (Array.isArray(selector)) {\n    selector.forEach((item) => styles(item, css));\n  }\n  const els = find(selector);\n  if (els.length) {\n    els.forEach((el) => {\n      Object.keys(css).forEach((key) => {\n        el.style[key] = css[key];\n      });\n    });\n  }\n}\n\nexport default styles;\n","\n/*\n *\n * More info at [www.dropzonejs.com](http://www.dropzonejs.com)\n *\n * Copyright (c) 2012, Matias Meno\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n */\n\n(function() {\n  var Dropzone, Emitter, camelize, contentLoaded, detectVerticalSquash, drawImageIOSFix, noop, without,\n    __slice = [].slice,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  noop = function() {};\n\n  Emitter = (function() {\n    function Emitter() {}\n\n    Emitter.prototype.addEventListener = Emitter.prototype.on;\n\n    Emitter.prototype.on = function(event, fn) {\n      this._callbacks = this._callbacks || {};\n      if (!this._callbacks[event]) {\n        this._callbacks[event] = [];\n      }\n      this._callbacks[event].push(fn);\n      return this;\n    };\n\n    Emitter.prototype.emit = function() {\n      var args, callback, callbacks, event, _i, _len;\n      event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      this._callbacks = this._callbacks || {};\n      callbacks = this._callbacks[event];\n      if (callbacks) {\n        for (_i = 0, _len = callbacks.length; _i < _len; _i++) {\n          callback = callbacks[_i];\n          callback.apply(this, args);\n        }\n      }\n      return this;\n    };\n\n    Emitter.prototype.removeListener = Emitter.prototype.off;\n\n    Emitter.prototype.removeAllListeners = Emitter.prototype.off;\n\n    Emitter.prototype.removeEventListener = Emitter.prototype.off;\n\n    Emitter.prototype.off = function(event, fn) {\n      var callback, callbacks, i, _i, _len;\n      if (!this._callbacks || arguments.length === 0) {\n        this._callbacks = {};\n        return this;\n      }\n      callbacks = this._callbacks[event];\n      if (!callbacks) {\n        return this;\n      }\n      if (arguments.length === 1) {\n        delete this._callbacks[event];\n        return this;\n      }\n      for (i = _i = 0, _len = callbacks.length; _i < _len; i = ++_i) {\n        callback = callbacks[i];\n        if (callback === fn) {\n          callbacks.splice(i, 1);\n          break;\n        }\n      }\n      return this;\n    };\n\n    return Emitter;\n\n  })();\n\n  Dropzone = (function(_super) {\n    var extend, resolveOption;\n\n    __extends(Dropzone, _super);\n\n    Dropzone.prototype.Emitter = Emitter;\n\n\n    /*\n    This is a list of all available events you can register on a dropzone object.\n    \n    You can register an event handler like this:\n    \n        dropzone.on(\"dragEnter\", function() { });\n     */\n\n    Dropzone.prototype.events = [\"drop\", \"dragstart\", \"dragend\", \"dragenter\", \"dragover\", \"dragleave\", \"addedfile\", \"addedfiles\", \"removedfile\", \"thumbnail\", \"error\", \"errormultiple\", \"processing\", \"processingmultiple\", \"uploadprogress\", \"totaluploadprogress\", \"sending\", \"sendingmultiple\", \"success\", \"successmultiple\", \"canceled\", \"canceledmultiple\", \"complete\", \"completemultiple\", \"reset\", \"maxfilesexceeded\", \"maxfilesreached\", \"queuecomplete\"];\n\n    Dropzone.prototype.defaultOptions = {\n      url: null,\n      method: \"post\",\n      withCredentials: false,\n      parallelUploads: 2,\n      uploadMultiple: false,\n      maxFilesize: 256,\n      paramName: \"file\",\n      createImageThumbnails: true,\n      maxThumbnailFilesize: 10,\n      thumbnailWidth: 120,\n      thumbnailHeight: 120,\n      filesizeBase: 1000,\n      maxFiles: null,\n      params: {},\n      clickable: true,\n      ignoreHiddenFiles: true,\n      acceptedFiles: null,\n      acceptedMimeTypes: null,\n      autoProcessQueue: true,\n      autoQueue: true,\n      addRemoveLinks: false,\n      previewsContainer: null,\n      hiddenInputContainer: \"body\",\n      capture: null,\n      renameFilename: null,\n      dictDefaultMessage: \"Drop files here to upload\",\n      dictFallbackMessage: \"Your browser does not support drag'n'drop file uploads.\",\n      dictFallbackText: \"Please use the fallback form below to upload your files like in the olden days.\",\n      dictFileTooBig: \"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.\",\n      dictInvalidFileType: \"You can't upload files of this type.\",\n      dictResponseError: \"Server responded with {{statusCode}} code.\",\n      dictCancelUpload: \"Cancel upload\",\n      dictCancelUploadConfirmation: \"Are you sure you want to cancel this upload?\",\n      dictRemoveFile: \"Remove file\",\n      dictRemoveFileConfirmation: null,\n      dictMaxFilesExceeded: \"You can not upload any more files.\",\n      accept: function(file, done) {\n        return done();\n      },\n      init: function() {\n        return noop;\n      },\n      forceFallback: false,\n      fallback: function() {\n        var child, messageElement, span, _i, _len, _ref;\n        this.element.className = \"\" + this.element.className + \" dz-browser-not-supported\";\n        _ref = this.element.getElementsByTagName(\"div\");\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          child = _ref[_i];\n          if (/(^| )dz-message($| )/.test(child.className)) {\n            messageElement = child;\n            child.className = \"dz-message\";\n            continue;\n          }\n        }\n        if (!messageElement) {\n          messageElement = Dropzone.createElement(\"<div class=\\\"dz-message\\\"><span></span></div>\");\n          this.element.appendChild(messageElement);\n        }\n        span = messageElement.getElementsByTagName(\"span\")[0];\n        if (span) {\n          if (span.textContent != null) {\n            span.textContent = this.options.dictFallbackMessage;\n          } else if (span.innerText != null) {\n            span.innerText = this.options.dictFallbackMessage;\n          }\n        }\n        return this.element.appendChild(this.getFallbackForm());\n      },\n      resize: function(file) {\n        var info, srcRatio, trgRatio;\n        info = {\n          srcX: 0,\n          srcY: 0,\n          srcWidth: file.width,\n          srcHeight: file.height\n        };\n        srcRatio = file.width / file.height;\n        info.optWidth = this.options.thumbnailWidth;\n        info.optHeight = this.options.thumbnailHeight;\n        if ((info.optWidth == null) && (info.optHeight == null)) {\n          info.optWidth = info.srcWidth;\n          info.optHeight = info.srcHeight;\n        } else if (info.optWidth == null) {\n          info.optWidth = srcRatio * info.optHeight;\n        } else if (info.optHeight == null) {\n          info.optHeight = (1 / srcRatio) * info.optWidth;\n        }\n        trgRatio = info.optWidth / info.optHeight;\n        if (file.height < info.optHeight || file.width < info.optWidth) {\n          info.trgHeight = info.srcHeight;\n          info.trgWidth = info.srcWidth;\n        } else {\n          if (srcRatio > trgRatio) {\n            info.srcHeight = file.height;\n            info.srcWidth = info.srcHeight * trgRatio;\n          } else {\n            info.srcWidth = file.width;\n            info.srcHeight = info.srcWidth / trgRatio;\n          }\n        }\n        info.srcX = (file.width - info.srcWidth) / 2;\n        info.srcY = (file.height - info.srcHeight) / 2;\n        return info;\n      },\n\n      /*\n      Those functions register themselves to the events on init and handle all\n      the user interface specific stuff. Overwriting them won't break the upload\n      but can break the way it's displayed.\n      You can overwrite them if you don't like the default behavior. If you just\n      want to add an additional event handler, register it on the dropzone object\n      and don't overwrite those options.\n       */\n      drop: function(e) {\n        return this.element.classList.remove(\"dz-drag-hover\");\n      },\n      dragstart: noop,\n      dragend: function(e) {\n        return this.element.classList.remove(\"dz-drag-hover\");\n      },\n      dragenter: function(e) {\n        return this.element.classList.add(\"dz-drag-hover\");\n      },\n      dragover: function(e) {\n        return this.element.classList.add(\"dz-drag-hover\");\n      },\n      dragleave: function(e) {\n        return this.element.classList.remove(\"dz-drag-hover\");\n      },\n      paste: noop,\n      reset: function() {\n        return this.element.classList.remove(\"dz-started\");\n      },\n      addedfile: function(file) {\n        var node, removeFileEvent, removeLink, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2, _results;\n        if (this.element === this.previewsContainer) {\n          this.element.classList.add(\"dz-started\");\n        }\n        if (this.previewsContainer) {\n          file.previewElement = Dropzone.createElement(this.options.previewTemplate.trim());\n          file.previewTemplate = file.previewElement;\n          this.previewsContainer.appendChild(file.previewElement);\n          _ref = file.previewElement.querySelectorAll(\"[data-dz-name]\");\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            node = _ref[_i];\n            node.textContent = this._renameFilename(file.name);\n          }\n          _ref1 = file.previewElement.querySelectorAll(\"[data-dz-size]\");\n          for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n            node = _ref1[_j];\n            node.innerHTML = this.filesize(file.size);\n          }\n          if (this.options.addRemoveLinks) {\n            file._removeLink = Dropzone.createElement(\"<a class=\\\"dz-remove\\\" href=\\\"javascript:undefined;\\\" data-dz-remove>\" + this.options.dictRemoveFile + \"</a>\");\n            file.previewElement.appendChild(file._removeLink);\n          }\n          removeFileEvent = (function(_this) {\n            return function(e) {\n              e.preventDefault();\n              e.stopPropagation();\n              if (file.status === Dropzone.UPLOADING) {\n                return Dropzone.confirm(_this.options.dictCancelUploadConfirmation, function() {\n                  return _this.removeFile(file);\n                });\n              } else {\n                if (_this.options.dictRemoveFileConfirmation) {\n                  return Dropzone.confirm(_this.options.dictRemoveFileConfirmation, function() {\n                    return _this.removeFile(file);\n                  });\n                } else {\n                  return _this.removeFile(file);\n                }\n              }\n            };\n          })(this);\n          _ref2 = file.previewElement.querySelectorAll(\"[data-dz-remove]\");\n          _results = [];\n          for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\n            removeLink = _ref2[_k];\n            _results.push(removeLink.addEventListener(\"click\", removeFileEvent));\n          }\n          return _results;\n        }\n      },\n      removedfile: function(file) {\n        var _ref;\n        if (file.previewElement) {\n          if ((_ref = file.previewElement) != null) {\n            _ref.parentNode.removeChild(file.previewElement);\n          }\n        }\n        return this._updateMaxFilesReachedClass();\n      },\n      thumbnail: function(file, dataUrl) {\n        var thumbnailElement, _i, _len, _ref;\n        if (file.previewElement) {\n          file.previewElement.classList.remove(\"dz-file-preview\");\n          _ref = file.previewElement.querySelectorAll(\"[data-dz-thumbnail]\");\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            thumbnailElement = _ref[_i];\n            thumbnailElement.alt = file.name;\n            thumbnailElement.src = dataUrl;\n          }\n          return setTimeout(((function(_this) {\n            return function() {\n              return file.previewElement.classList.add(\"dz-image-preview\");\n            };\n          })(this)), 1);\n        }\n      },\n      error: function(file, message) {\n        var node, _i, _len, _ref, _results;\n        if (file.previewElement) {\n          file.previewElement.classList.add(\"dz-error\");\n          if (typeof message !== \"String\" && message.error) {\n            message = message.error;\n          }\n          _ref = file.previewElement.querySelectorAll(\"[data-dz-errormessage]\");\n          _results = [];\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            node = _ref[_i];\n            _results.push(node.textContent = message);\n          }\n          return _results;\n        }\n      },\n      errormultiple: noop,\n      processing: function(file) {\n        if (file.previewElement) {\n          file.previewElement.classList.add(\"dz-processing\");\n          if (file._removeLink) {\n            return file._removeLink.textContent = this.options.dictCancelUpload;\n          }\n        }\n      },\n      processingmultiple: noop,\n      uploadprogress: function(file, progress, bytesSent) {\n        var node, _i, _len, _ref, _results;\n        if (file.previewElement) {\n          _ref = file.previewElement.querySelectorAll(\"[data-dz-uploadprogress]\");\n          _results = [];\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n            node = _ref[_i];\n            if (node.nodeName === 'PROGRESS') {\n              _results.push(node.value = progress);\n            } else {\n              _results.push(node.style.width = \"\" + progress + \"%\");\n            }\n          }\n          return _results;\n        }\n      },\n      totaluploadprogress: noop,\n      sending: noop,\n      sendingmultiple: noop,\n      success: function(file) {\n        if (file.previewElement) {\n          return file.previewElement.classList.add(\"dz-success\");\n        }\n      },\n      successmultiple: noop,\n      canceled: function(file) {\n        return this.emit(\"error\", file, \"Upload canceled.\");\n      },\n      canceledmultiple: noop,\n      complete: function(file) {\n        if (file._removeLink) {\n          file._removeLink.textContent = this.options.dictRemoveFile;\n        }\n        if (file.previewElement) {\n          return file.previewElement.classList.add(\"dz-complete\");\n        }\n      },\n      completemultiple: noop,\n      maxfilesexceeded: noop,\n      maxfilesreached: noop,\n      queuecomplete: noop,\n      addedfiles: noop,\n      previewTemplate: \"<div class=\\\"dz-preview dz-file-preview\\\">\\n  <div class=\\\"dz-image\\\"><img data-dz-thumbnail /></div>\\n  <div class=\\\"dz-details\\\">\\n    <div class=\\\"dz-size\\\"><span data-dz-size></span></div>\\n    <div class=\\\"dz-filename\\\"><span data-dz-name></span></div>\\n  </div>\\n  <div class=\\\"dz-progress\\\"><span class=\\\"dz-upload\\\" data-dz-uploadprogress></span></div>\\n  <div class=\\\"dz-error-message\\\"><span data-dz-errormessage></span></div>\\n  <div class=\\\"dz-success-mark\\\">\\n    <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n      <title>Check</title>\\n      <defs></defs>\\n      <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n        <path d=\\\"M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\" id=\\\"Oval-2\\\" stroke-opacity=\\\"0.198794158\\\" stroke=\\\"#747474\\\" fill-opacity=\\\"0.816519475\\\" fill=\\\"#FFFFFF\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n      </g>\\n    </svg>\\n  </div>\\n  <div class=\\\"dz-error-mark\\\">\\n    <svg width=\\\"54px\\\" height=\\\"54px\\\" viewBox=\\\"0 0 54 54\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns:sketch=\\\"http://www.bohemiancoding.com/sketch/ns\\\">\\n      <title>Error</title>\\n      <defs></defs>\\n      <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\" sketch:type=\\\"MSPage\\\">\\n        <g id=\\\"Check-+-Oval-2\\\" sketch:type=\\\"MSLayerGroup\\\" stroke=\\\"#747474\\\" stroke-opacity=\\\"0.198794158\\\" fill=\\\"#FFFFFF\\\" fill-opacity=\\\"0.816519475\\\">\\n          <path d=\\\"M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z\\\" id=\\\"Oval-2\\\" sketch:type=\\\"MSShapeGroup\\\"></path>\\n        </g>\\n      </g>\\n    </svg>\\n  </div>\\n</div>\"\n    };\n\n    extend = function() {\n      var key, object, objects, target, val, _i, _len;\n      target = arguments[0], objects = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      for (_i = 0, _len = objects.length; _i < _len; _i++) {\n        object = objects[_i];\n        for (key in object) {\n          val = object[key];\n          target[key] = val;\n        }\n      }\n      return target;\n    };\n\n    function Dropzone(element, options) {\n      var elementOptions, fallback, _ref;\n      this.element = element;\n      this.version = Dropzone.version;\n      this.defaultOptions.previewTemplate = this.defaultOptions.previewTemplate.replace(/\\n*/g, \"\");\n      this.clickableElements = [];\n      this.listeners = [];\n      this.files = [];\n      if (typeof this.element === \"string\") {\n        this.element = document.querySelector(this.element);\n      }\n      if (!(this.element && (this.element.nodeType != null))) {\n        throw new Error(\"Invalid dropzone element.\");\n      }\n      if (this.element.dropzone) {\n        throw new Error(\"Dropzone already attached.\");\n      }\n      Dropzone.instances.push(this);\n      this.element.dropzone = this;\n      elementOptions = (_ref = Dropzone.optionsForElement(this.element)) != null ? _ref : {};\n      this.options = extend({}, this.defaultOptions, elementOptions, options != null ? options : {});\n      if (this.options.forceFallback || !Dropzone.isBrowserSupported()) {\n        return this.options.fallback.call(this);\n      }\n      if (this.options.url == null) {\n        this.options.url = this.element.getAttribute(\"action\");\n      }\n      if (!this.options.url) {\n        throw new Error(\"No URL provided.\");\n      }\n      if (this.options.acceptedFiles && this.options.acceptedMimeTypes) {\n        throw new Error(\"You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.\");\n      }\n      if (this.options.acceptedMimeTypes) {\n        this.options.acceptedFiles = this.options.acceptedMimeTypes;\n        delete this.options.acceptedMimeTypes;\n      }\n      this.options.method = this.options.method.toUpperCase();\n      if ((fallback = this.getExistingFallback()) && fallback.parentNode) {\n        fallback.parentNode.removeChild(fallback);\n      }\n      if (this.options.previewsContainer !== false) {\n        if (this.options.previewsContainer) {\n          this.previewsContainer = Dropzone.getElement(this.options.previewsContainer, \"previewsContainer\");\n        } else {\n          this.previewsContainer = this.element;\n        }\n      }\n      if (this.options.clickable) {\n        if (this.options.clickable === true) {\n          this.clickableElements = [this.element];\n        } else {\n          this.clickableElements = Dropzone.getElements(this.options.clickable, \"clickable\");\n        }\n      }\n      this.init();\n    }\n\n    Dropzone.prototype.getAcceptedFiles = function() {\n      var file, _i, _len, _ref, _results;\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (file.accepted) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.getRejectedFiles = function() {\n      var file, _i, _len, _ref, _results;\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (!file.accepted) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.getFilesWithStatus = function(status) {\n      var file, _i, _len, _ref, _results;\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (file.status === status) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.getQueuedFiles = function() {\n      return this.getFilesWithStatus(Dropzone.QUEUED);\n    };\n\n    Dropzone.prototype.getUploadingFiles = function() {\n      return this.getFilesWithStatus(Dropzone.UPLOADING);\n    };\n\n    Dropzone.prototype.getAddedFiles = function() {\n      return this.getFilesWithStatus(Dropzone.ADDED);\n    };\n\n    Dropzone.prototype.getActiveFiles = function() {\n      var file, _i, _len, _ref, _results;\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (file.status === Dropzone.UPLOADING || file.status === Dropzone.QUEUED) {\n          _results.push(file);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.init = function() {\n      var eventName, noPropagation, setupHiddenFileInput, _i, _len, _ref, _ref1;\n      if (this.element.tagName === \"form\") {\n        this.element.setAttribute(\"enctype\", \"multipart/form-data\");\n      }\n      if (this.element.classList.contains(\"dropzone\") && !this.element.querySelector(\".dz-message\")) {\n        this.element.appendChild(Dropzone.createElement(\"<div class=\\\"dz-default dz-message\\\"><span>\" + this.options.dictDefaultMessage + \"</span></div>\"));\n      }\n      if (this.clickableElements.length) {\n        setupHiddenFileInput = (function(_this) {\n          return function() {\n            if (_this.hiddenFileInput) {\n              _this.hiddenFileInput.parentNode.removeChild(_this.hiddenFileInput);\n            }\n            _this.hiddenFileInput = document.createElement(\"input\");\n            _this.hiddenFileInput.setAttribute(\"type\", \"file\");\n            if ((_this.options.maxFiles == null) || _this.options.maxFiles > 1) {\n              _this.hiddenFileInput.setAttribute(\"multiple\", \"multiple\");\n            }\n            _this.hiddenFileInput.className = \"dz-hidden-input\";\n            if (_this.options.acceptedFiles != null) {\n              _this.hiddenFileInput.setAttribute(\"accept\", _this.options.acceptedFiles);\n            }\n            if (_this.options.capture != null) {\n              _this.hiddenFileInput.setAttribute(\"capture\", _this.options.capture);\n            }\n            _this.hiddenFileInput.style.visibility = \"hidden\";\n            _this.hiddenFileInput.style.position = \"absolute\";\n            _this.hiddenFileInput.style.top = \"0\";\n            _this.hiddenFileInput.style.left = \"0\";\n            _this.hiddenFileInput.style.height = \"0\";\n            _this.hiddenFileInput.style.width = \"0\";\n            document.querySelector(_this.options.hiddenInputContainer).appendChild(_this.hiddenFileInput);\n            return _this.hiddenFileInput.addEventListener(\"change\", function() {\n              var file, files, _i, _len;\n              files = _this.hiddenFileInput.files;\n              if (files.length) {\n                for (_i = 0, _len = files.length; _i < _len; _i++) {\n                  file = files[_i];\n                  _this.addFile(file);\n                }\n              }\n              _this.emit(\"addedfiles\", files);\n              return setupHiddenFileInput();\n            });\n          };\n        })(this);\n        setupHiddenFileInput();\n      }\n      this.URL = (_ref = window.URL) != null ? _ref : window.webkitURL;\n      _ref1 = this.events;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        eventName = _ref1[_i];\n        this.on(eventName, this.options[eventName]);\n      }\n      this.on(\"uploadprogress\", (function(_this) {\n        return function() {\n          return _this.updateTotalUploadProgress();\n        };\n      })(this));\n      this.on(\"removedfile\", (function(_this) {\n        return function() {\n          return _this.updateTotalUploadProgress();\n        };\n      })(this));\n      this.on(\"canceled\", (function(_this) {\n        return function(file) {\n          return _this.emit(\"complete\", file);\n        };\n      })(this));\n      this.on(\"complete\", (function(_this) {\n        return function(file) {\n          if (_this.getAddedFiles().length === 0 && _this.getUploadingFiles().length === 0 && _this.getQueuedFiles().length === 0) {\n            return setTimeout((function() {\n              return _this.emit(\"queuecomplete\");\n            }), 0);\n          }\n        };\n      })(this));\n      noPropagation = function(e) {\n        e.stopPropagation();\n        if (e.preventDefault) {\n          return e.preventDefault();\n        } else {\n          return e.returnValue = false;\n        }\n      };\n      this.listeners = [\n        {\n          element: this.element,\n          events: {\n            \"dragstart\": (function(_this) {\n              return function(e) {\n                return _this.emit(\"dragstart\", e);\n              };\n            })(this),\n            \"dragenter\": (function(_this) {\n              return function(e) {\n                noPropagation(e);\n                return _this.emit(\"dragenter\", e);\n              };\n            })(this),\n            \"dragover\": (function(_this) {\n              return function(e) {\n                var efct;\n                try {\n                  efct = e.dataTransfer.effectAllowed;\n                } catch (_error) {}\n                e.dataTransfer.dropEffect = 'move' === efct || 'linkMove' === efct ? 'move' : 'copy';\n                noPropagation(e);\n                return _this.emit(\"dragover\", e);\n              };\n            })(this),\n            \"dragleave\": (function(_this) {\n              return function(e) {\n                return _this.emit(\"dragleave\", e);\n              };\n            })(this),\n            \"drop\": (function(_this) {\n              return function(e) {\n                noPropagation(e);\n                return _this.drop(e);\n              };\n            })(this),\n            \"dragend\": (function(_this) {\n              return function(e) {\n                return _this.emit(\"dragend\", e);\n              };\n            })(this)\n          }\n        }\n      ];\n      this.clickableElements.forEach((function(_this) {\n        return function(clickableElement) {\n          return _this.listeners.push({\n            element: clickableElement,\n            events: {\n              \"click\": function(evt) {\n                if ((clickableElement !== _this.element) || (evt.target === _this.element || Dropzone.elementInside(evt.target, _this.element.querySelector(\".dz-message\")))) {\n                  _this.hiddenFileInput.click();\n                }\n                return true;\n              }\n            }\n          });\n        };\n      })(this));\n      this.enable();\n      return this.options.init.call(this);\n    };\n\n    Dropzone.prototype.destroy = function() {\n      var _ref;\n      this.disable();\n      this.removeAllFiles(true);\n      if ((_ref = this.hiddenFileInput) != null ? _ref.parentNode : void 0) {\n        this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);\n        this.hiddenFileInput = null;\n      }\n      delete this.element.dropzone;\n      return Dropzone.instances.splice(Dropzone.instances.indexOf(this), 1);\n    };\n\n    Dropzone.prototype.updateTotalUploadProgress = function() {\n      var activeFiles, file, totalBytes, totalBytesSent, totalUploadProgress, _i, _len, _ref;\n      totalBytesSent = 0;\n      totalBytes = 0;\n      activeFiles = this.getActiveFiles();\n      if (activeFiles.length) {\n        _ref = this.getActiveFiles();\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          file = _ref[_i];\n          totalBytesSent += file.upload.bytesSent;\n          totalBytes += file.upload.total;\n        }\n        totalUploadProgress = 100 * totalBytesSent / totalBytes;\n      } else {\n        totalUploadProgress = 100;\n      }\n      return this.emit(\"totaluploadprogress\", totalUploadProgress, totalBytes, totalBytesSent);\n    };\n\n    Dropzone.prototype._getParamName = function(n) {\n      if (typeof this.options.paramName === \"function\") {\n        return this.options.paramName(n);\n      } else {\n        return \"\" + this.options.paramName + (this.options.uploadMultiple ? \"[\" + n + \"]\" : \"\");\n      }\n    };\n\n    Dropzone.prototype._renameFilename = function(name) {\n      if (typeof this.options.renameFilename !== \"function\") {\n        return name;\n      }\n      return this.options.renameFilename(name);\n    };\n\n    Dropzone.prototype.getFallbackForm = function() {\n      var existingFallback, fields, fieldsString, form;\n      if (existingFallback = this.getExistingFallback()) {\n        return existingFallback;\n      }\n      fieldsString = \"<div class=\\\"dz-fallback\\\">\";\n      if (this.options.dictFallbackText) {\n        fieldsString += \"<p>\" + this.options.dictFallbackText + \"</p>\";\n      }\n      fieldsString += \"<input type=\\\"file\\\" name=\\\"\" + (this._getParamName(0)) + \"\\\" \" + (this.options.uploadMultiple ? 'multiple=\"multiple\"' : void 0) + \" /><input type=\\\"submit\\\" value=\\\"Upload!\\\"></div>\";\n      fields = Dropzone.createElement(fieldsString);\n      if (this.element.tagName !== \"FORM\") {\n        form = Dropzone.createElement(\"<form action=\\\"\" + this.options.url + \"\\\" enctype=\\\"multipart/form-data\\\" method=\\\"\" + this.options.method + \"\\\"></form>\");\n        form.appendChild(fields);\n      } else {\n        this.element.setAttribute(\"enctype\", \"multipart/form-data\");\n        this.element.setAttribute(\"method\", this.options.method);\n      }\n      return form != null ? form : fields;\n    };\n\n    Dropzone.prototype.getExistingFallback = function() {\n      var fallback, getFallback, tagName, _i, _len, _ref;\n      getFallback = function(elements) {\n        var el, _i, _len;\n        for (_i = 0, _len = elements.length; _i < _len; _i++) {\n          el = elements[_i];\n          if (/(^| )fallback($| )/.test(el.className)) {\n            return el;\n          }\n        }\n      };\n      _ref = [\"div\", \"form\"];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        tagName = _ref[_i];\n        if (fallback = getFallback(this.element.getElementsByTagName(tagName))) {\n          return fallback;\n        }\n      }\n    };\n\n    Dropzone.prototype.setupEventListeners = function() {\n      var elementListeners, event, listener, _i, _len, _ref, _results;\n      _ref = this.listeners;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elementListeners = _ref[_i];\n        _results.push((function() {\n          var _ref1, _results1;\n          _ref1 = elementListeners.events;\n          _results1 = [];\n          for (event in _ref1) {\n            listener = _ref1[event];\n            _results1.push(elementListeners.element.addEventListener(event, listener, false));\n          }\n          return _results1;\n        })());\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.removeEventListeners = function() {\n      var elementListeners, event, listener, _i, _len, _ref, _results;\n      _ref = this.listeners;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elementListeners = _ref[_i];\n        _results.push((function() {\n          var _ref1, _results1;\n          _ref1 = elementListeners.events;\n          _results1 = [];\n          for (event in _ref1) {\n            listener = _ref1[event];\n            _results1.push(elementListeners.element.removeEventListener(event, listener, false));\n          }\n          return _results1;\n        })());\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.disable = function() {\n      var file, _i, _len, _ref, _results;\n      this.clickableElements.forEach(function(element) {\n        return element.classList.remove(\"dz-clickable\");\n      });\n      this.removeEventListeners();\n      _ref = this.files;\n      _results = [];\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        _results.push(this.cancelUpload(file));\n      }\n      return _results;\n    };\n\n    Dropzone.prototype.enable = function() {\n      this.clickableElements.forEach(function(element) {\n        return element.classList.add(\"dz-clickable\");\n      });\n      return this.setupEventListeners();\n    };\n\n    Dropzone.prototype.filesize = function(size) {\n      var cutoff, i, selectedSize, selectedUnit, unit, units, _i, _len;\n      selectedSize = 0;\n      selectedUnit = \"b\";\n      if (size > 0) {\n        units = ['TB', 'GB', 'MB', 'KB', 'b'];\n        for (i = _i = 0, _len = units.length; _i < _len; i = ++_i) {\n          unit = units[i];\n          cutoff = Math.pow(this.options.filesizeBase, 4 - i) / 10;\n          if (size >= cutoff) {\n            selectedSize = size / Math.pow(this.options.filesizeBase, 4 - i);\n            selectedUnit = unit;\n            break;\n          }\n        }\n        selectedSize = Math.round(10 * selectedSize) / 10;\n      }\n      return \"<strong>\" + selectedSize + \"</strong> \" + selectedUnit;\n    };\n\n    Dropzone.prototype._updateMaxFilesReachedClass = function() {\n      if ((this.options.maxFiles != null) && this.getAcceptedFiles().length >= this.options.maxFiles) {\n        if (this.getAcceptedFiles().length === this.options.maxFiles) {\n          this.emit('maxfilesreached', this.files);\n        }\n        return this.element.classList.add(\"dz-max-files-reached\");\n      } else {\n        return this.element.classList.remove(\"dz-max-files-reached\");\n      }\n    };\n\n    Dropzone.prototype.drop = function(e) {\n      var files, items;\n      if (!e.dataTransfer) {\n        return;\n      }\n      this.emit(\"drop\", e);\n      files = e.dataTransfer.files;\n      this.emit(\"addedfiles\", files);\n      if (files.length) {\n        items = e.dataTransfer.items;\n        if (items && items.length && (items[0].webkitGetAsEntry != null)) {\n          this._addFilesFromItems(items);\n        } else {\n          this.handleFiles(files);\n        }\n      }\n    };\n\n    Dropzone.prototype.paste = function(e) {\n      var items, _ref;\n      if ((e != null ? (_ref = e.clipboardData) != null ? _ref.items : void 0 : void 0) == null) {\n        return;\n      }\n      this.emit(\"paste\", e);\n      items = e.clipboardData.items;\n      if (items.length) {\n        return this._addFilesFromItems(items);\n      }\n    };\n\n    Dropzone.prototype.handleFiles = function(files) {\n      var file, _i, _len, _results;\n      _results = [];\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        _results.push(this.addFile(file));\n      }\n      return _results;\n    };\n\n    Dropzone.prototype._addFilesFromItems = function(items) {\n      var entry, item, _i, _len, _results;\n      _results = [];\n      for (_i = 0, _len = items.length; _i < _len; _i++) {\n        item = items[_i];\n        if ((item.webkitGetAsEntry != null) && (entry = item.webkitGetAsEntry())) {\n          if (entry.isFile) {\n            _results.push(this.addFile(item.getAsFile()));\n          } else if (entry.isDirectory) {\n            _results.push(this._addFilesFromDirectory(entry, entry.name));\n          } else {\n            _results.push(void 0);\n          }\n        } else if (item.getAsFile != null) {\n          if ((item.kind == null) || item.kind === \"file\") {\n            _results.push(this.addFile(item.getAsFile()));\n          } else {\n            _results.push(void 0);\n          }\n        } else {\n          _results.push(void 0);\n        }\n      }\n      return _results;\n    };\n\n    Dropzone.prototype._addFilesFromDirectory = function(directory, path) {\n      var dirReader, errorHandler, readEntries;\n      dirReader = directory.createReader();\n      errorHandler = function(error) {\n        return typeof console !== \"undefined\" && console !== null ? typeof console.log === \"function\" ? console.log(error) : void 0 : void 0;\n      };\n      readEntries = (function(_this) {\n        return function() {\n          return dirReader.readEntries(function(entries) {\n            var entry, _i, _len;\n            if (entries.length > 0) {\n              for (_i = 0, _len = entries.length; _i < _len; _i++) {\n                entry = entries[_i];\n                if (entry.isFile) {\n                  entry.file(function(file) {\n                    if (_this.options.ignoreHiddenFiles && file.name.substring(0, 1) === '.') {\n                      return;\n                    }\n                    file.fullPath = \"\" + path + \"/\" + file.name;\n                    return _this.addFile(file);\n                  });\n                } else if (entry.isDirectory) {\n                  _this._addFilesFromDirectory(entry, \"\" + path + \"/\" + entry.name);\n                }\n              }\n              readEntries();\n            }\n            return null;\n          }, errorHandler);\n        };\n      })(this);\n      return readEntries();\n    };\n\n    Dropzone.prototype.accept = function(file, done) {\n      if (file.size > this.options.maxFilesize * 1024 * 1024) {\n        return done(this.options.dictFileTooBig.replace(\"{{filesize}}\", Math.round(file.size / 1024 / 10.24) / 100).replace(\"{{maxFilesize}}\", this.options.maxFilesize));\n      } else if (!Dropzone.isValidFile(file, this.options.acceptedFiles)) {\n        return done(this.options.dictInvalidFileType);\n      } else if ((this.options.maxFiles != null) && this.getAcceptedFiles().length >= this.options.maxFiles) {\n        done(this.options.dictMaxFilesExceeded.replace(\"{{maxFiles}}\", this.options.maxFiles));\n        return this.emit(\"maxfilesexceeded\", file);\n      } else {\n        return this.options.accept.call(this, file, done);\n      }\n    };\n\n    Dropzone.prototype.addFile = function(file) {\n      file.upload = {\n        progress: 0,\n        total: file.size,\n        bytesSent: 0\n      };\n      this.files.push(file);\n      file.status = Dropzone.ADDED;\n      this.emit(\"addedfile\", file);\n      this._enqueueThumbnail(file);\n      return this.accept(file, (function(_this) {\n        return function(error) {\n          if (error) {\n            file.accepted = false;\n            _this._errorProcessing([file], error);\n          } else {\n            file.accepted = true;\n            if (_this.options.autoQueue) {\n              _this.enqueueFile(file);\n            }\n          }\n          return _this._updateMaxFilesReachedClass();\n        };\n      })(this));\n    };\n\n    Dropzone.prototype.enqueueFiles = function(files) {\n      var file, _i, _len;\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        this.enqueueFile(file);\n      }\n      return null;\n    };\n\n    Dropzone.prototype.enqueueFile = function(file) {\n      if (file.status === Dropzone.ADDED && file.accepted === true) {\n        file.status = Dropzone.QUEUED;\n        if (this.options.autoProcessQueue) {\n          return setTimeout(((function(_this) {\n            return function() {\n              return _this.processQueue();\n            };\n          })(this)), 0);\n        }\n      } else {\n        throw new Error(\"This file can't be queued because it has already been processed or was rejected.\");\n      }\n    };\n\n    Dropzone.prototype._thumbnailQueue = [];\n\n    Dropzone.prototype._processingThumbnail = false;\n\n    Dropzone.prototype._enqueueThumbnail = function(file) {\n      if (this.options.createImageThumbnails && file.type.match(/image.*/) && file.size <= this.options.maxThumbnailFilesize * 1024 * 1024) {\n        this._thumbnailQueue.push(file);\n        return setTimeout(((function(_this) {\n          return function() {\n            return _this._processThumbnailQueue();\n          };\n        })(this)), 0);\n      }\n    };\n\n    Dropzone.prototype._processThumbnailQueue = function() {\n      if (this._processingThumbnail || this._thumbnailQueue.length === 0) {\n        return;\n      }\n      this._processingThumbnail = true;\n      return this.createThumbnail(this._thumbnailQueue.shift(), (function(_this) {\n        return function() {\n          _this._processingThumbnail = false;\n          return _this._processThumbnailQueue();\n        };\n      })(this));\n    };\n\n    Dropzone.prototype.removeFile = function(file) {\n      if (file.status === Dropzone.UPLOADING) {\n        this.cancelUpload(file);\n      }\n      this.files = without(this.files, file);\n      this.emit(\"removedfile\", file);\n      if (this.files.length === 0) {\n        return this.emit(\"reset\");\n      }\n    };\n\n    Dropzone.prototype.removeAllFiles = function(cancelIfNecessary) {\n      var file, _i, _len, _ref;\n      if (cancelIfNecessary == null) {\n        cancelIfNecessary = false;\n      }\n      _ref = this.files.slice();\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        file = _ref[_i];\n        if (file.status !== Dropzone.UPLOADING || cancelIfNecessary) {\n          this.removeFile(file);\n        }\n      }\n      return null;\n    };\n\n    Dropzone.prototype.createThumbnail = function(file, callback) {\n      var fileReader;\n      fileReader = new FileReader;\n      fileReader.onload = (function(_this) {\n        return function() {\n          if (file.type === \"image/svg+xml\") {\n            _this.emit(\"thumbnail\", file, fileReader.result);\n            if (callback != null) {\n              callback();\n            }\n            return;\n          }\n          return _this.createThumbnailFromUrl(file, fileReader.result, callback);\n        };\n      })(this);\n      return fileReader.readAsDataURL(file);\n    };\n\n    Dropzone.prototype.createThumbnailFromUrl = function(file, imageUrl, callback, crossOrigin) {\n      var img;\n      img = document.createElement(\"img\");\n      if (crossOrigin) {\n        img.crossOrigin = crossOrigin;\n      }\n      img.onload = (function(_this) {\n        return function() {\n          var canvas, ctx, resizeInfo, thumbnail, _ref, _ref1, _ref2, _ref3;\n          file.width = img.width;\n          file.height = img.height;\n          resizeInfo = _this.options.resize.call(_this, file);\n          if (resizeInfo.trgWidth == null) {\n            resizeInfo.trgWidth = resizeInfo.optWidth;\n          }\n          if (resizeInfo.trgHeight == null) {\n            resizeInfo.trgHeight = resizeInfo.optHeight;\n          }\n          canvas = document.createElement(\"canvas\");\n          ctx = canvas.getContext(\"2d\");\n          canvas.width = resizeInfo.trgWidth;\n          canvas.height = resizeInfo.trgHeight;\n          drawImageIOSFix(ctx, img, (_ref = resizeInfo.srcX) != null ? _ref : 0, (_ref1 = resizeInfo.srcY) != null ? _ref1 : 0, resizeInfo.srcWidth, resizeInfo.srcHeight, (_ref2 = resizeInfo.trgX) != null ? _ref2 : 0, (_ref3 = resizeInfo.trgY) != null ? _ref3 : 0, resizeInfo.trgWidth, resizeInfo.trgHeight);\n          thumbnail = canvas.toDataURL(\"image/png\");\n          _this.emit(\"thumbnail\", file, thumbnail);\n          if (callback != null) {\n            return callback();\n          }\n        };\n      })(this);\n      if (callback != null) {\n        img.onerror = callback;\n      }\n      return img.src = imageUrl;\n    };\n\n    Dropzone.prototype.processQueue = function() {\n      var i, parallelUploads, processingLength, queuedFiles;\n      parallelUploads = this.options.parallelUploads;\n      processingLength = this.getUploadingFiles().length;\n      i = processingLength;\n      if (processingLength >= parallelUploads) {\n        return;\n      }\n      queuedFiles = this.getQueuedFiles();\n      if (!(queuedFiles.length > 0)) {\n        return;\n      }\n      if (this.options.uploadMultiple) {\n        return this.processFiles(queuedFiles.slice(0, parallelUploads - processingLength));\n      } else {\n        while (i < parallelUploads) {\n          if (!queuedFiles.length) {\n            return;\n          }\n          this.processFile(queuedFiles.shift());\n          i++;\n        }\n      }\n    };\n\n    Dropzone.prototype.processFile = function(file) {\n      return this.processFiles([file]);\n    };\n\n    Dropzone.prototype.processFiles = function(files) {\n      var file, _i, _len;\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        file.processing = true;\n        file.status = Dropzone.UPLOADING;\n        this.emit(\"processing\", file);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"processingmultiple\", files);\n      }\n      return this.uploadFiles(files);\n    };\n\n    Dropzone.prototype._getFilesWithXhr = function(xhr) {\n      var file, files;\n      return files = (function() {\n        var _i, _len, _ref, _results;\n        _ref = this.files;\n        _results = [];\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          file = _ref[_i];\n          if (file.xhr === xhr) {\n            _results.push(file);\n          }\n        }\n        return _results;\n      }).call(this);\n    };\n\n    Dropzone.prototype.cancelUpload = function(file) {\n      var groupedFile, groupedFiles, _i, _j, _len, _len1, _ref;\n      if (file.status === Dropzone.UPLOADING) {\n        groupedFiles = this._getFilesWithXhr(file.xhr);\n        for (_i = 0, _len = groupedFiles.length; _i < _len; _i++) {\n          groupedFile = groupedFiles[_i];\n          groupedFile.status = Dropzone.CANCELED;\n        }\n        file.xhr.abort();\n        for (_j = 0, _len1 = groupedFiles.length; _j < _len1; _j++) {\n          groupedFile = groupedFiles[_j];\n          this.emit(\"canceled\", groupedFile);\n        }\n        if (this.options.uploadMultiple) {\n          this.emit(\"canceledmultiple\", groupedFiles);\n        }\n      } else if ((_ref = file.status) === Dropzone.ADDED || _ref === Dropzone.QUEUED) {\n        file.status = Dropzone.CANCELED;\n        this.emit(\"canceled\", file);\n        if (this.options.uploadMultiple) {\n          this.emit(\"canceledmultiple\", [file]);\n        }\n      }\n      if (this.options.autoProcessQueue) {\n        return this.processQueue();\n      }\n    };\n\n    resolveOption = function() {\n      var args, option;\n      option = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      if (typeof option === 'function') {\n        return option.apply(this, args);\n      }\n      return option;\n    };\n\n    Dropzone.prototype.uploadFile = function(file) {\n      return this.uploadFiles([file]);\n    };\n\n    Dropzone.prototype.uploadFiles = function(files) {\n      var file, formData, handleError, headerName, headerValue, headers, i, input, inputName, inputType, key, method, option, progressObj, response, updateProgress, url, value, xhr, _i, _j, _k, _l, _len, _len1, _len2, _len3, _m, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;\n      xhr = new XMLHttpRequest();\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        file.xhr = xhr;\n      }\n      method = resolveOption(this.options.method, files);\n      url = resolveOption(this.options.url, files);\n      xhr.open(method, url, true);\n      xhr.withCredentials = !!this.options.withCredentials;\n      response = null;\n      handleError = (function(_this) {\n        return function() {\n          var _j, _len1, _results;\n          _results = [];\n          for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\n            file = files[_j];\n            _results.push(_this._errorProcessing(files, response || _this.options.dictResponseError.replace(\"{{statusCode}}\", xhr.status), xhr));\n          }\n          return _results;\n        };\n      })(this);\n      updateProgress = (function(_this) {\n        return function(e) {\n          var allFilesFinished, progress, _j, _k, _l, _len1, _len2, _len3, _results;\n          if (e != null) {\n            progress = 100 * e.loaded / e.total;\n            for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\n              file = files[_j];\n              file.upload = {\n                progress: progress,\n                total: e.total,\n                bytesSent: e.loaded\n              };\n            }\n          } else {\n            allFilesFinished = true;\n            progress = 100;\n            for (_k = 0, _len2 = files.length; _k < _len2; _k++) {\n              file = files[_k];\n              if (!(file.upload.progress === 100 && file.upload.bytesSent === file.upload.total)) {\n                allFilesFinished = false;\n              }\n              file.upload.progress = progress;\n              file.upload.bytesSent = file.upload.total;\n            }\n            if (allFilesFinished) {\n              return;\n            }\n          }\n          _results = [];\n          for (_l = 0, _len3 = files.length; _l < _len3; _l++) {\n            file = files[_l];\n            _results.push(_this.emit(\"uploadprogress\", file, progress, file.upload.bytesSent));\n          }\n          return _results;\n        };\n      })(this);\n      xhr.onload = (function(_this) {\n        return function(e) {\n          var _ref;\n          if (files[0].status === Dropzone.CANCELED) {\n            return;\n          }\n          if (xhr.readyState !== 4) {\n            return;\n          }\n          response = xhr.responseText;\n          if (xhr.getResponseHeader(\"content-type\") && ~xhr.getResponseHeader(\"content-type\").indexOf(\"application/json\")) {\n            try {\n              response = JSON.parse(response);\n            } catch (_error) {\n              e = _error;\n              response = \"Invalid JSON response from server.\";\n            }\n          }\n          updateProgress();\n          if (!((200 <= (_ref = xhr.status) && _ref < 300))) {\n            return handleError();\n          } else {\n            return _this._finished(files, response, e);\n          }\n        };\n      })(this);\n      xhr.onerror = (function(_this) {\n        return function() {\n          if (files[0].status === Dropzone.CANCELED) {\n            return;\n          }\n          return handleError();\n        };\n      })(this);\n      progressObj = (_ref = xhr.upload) != null ? _ref : xhr;\n      progressObj.onprogress = updateProgress;\n      headers = {\n        \"Accept\": \"application/json\",\n        \"Cache-Control\": \"no-cache\",\n        \"X-Requested-With\": \"XMLHttpRequest\"\n      };\n      if (this.options.headers) {\n        extend(headers, this.options.headers);\n      }\n      for (headerName in headers) {\n        headerValue = headers[headerName];\n        if (headerValue) {\n          xhr.setRequestHeader(headerName, headerValue);\n        }\n      }\n      formData = new FormData();\n      if (this.options.params) {\n        _ref1 = this.options.params;\n        for (key in _ref1) {\n          value = _ref1[key];\n          formData.append(key, value);\n        }\n      }\n      for (_j = 0, _len1 = files.length; _j < _len1; _j++) {\n        file = files[_j];\n        this.emit(\"sending\", file, xhr, formData);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"sendingmultiple\", files, xhr, formData);\n      }\n      if (this.element.tagName === \"FORM\") {\n        _ref2 = this.element.querySelectorAll(\"input, textarea, select, button\");\n        for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {\n          input = _ref2[_k];\n          inputName = input.getAttribute(\"name\");\n          inputType = input.getAttribute(\"type\");\n          if (input.tagName === \"SELECT\" && input.hasAttribute(\"multiple\")) {\n            _ref3 = input.options;\n            for (_l = 0, _len3 = _ref3.length; _l < _len3; _l++) {\n              option = _ref3[_l];\n              if (option.selected) {\n                formData.append(inputName, option.value);\n              }\n            }\n          } else if (!inputType || ((_ref4 = inputType.toLowerCase()) !== \"checkbox\" && _ref4 !== \"radio\") || input.checked) {\n            formData.append(inputName, input.value);\n          }\n        }\n      }\n      for (i = _m = 0, _ref5 = files.length - 1; 0 <= _ref5 ? _m <= _ref5 : _m >= _ref5; i = 0 <= _ref5 ? ++_m : --_m) {\n        formData.append(this._getParamName(i), files[i], this._renameFilename(files[i].name));\n      }\n      return this.submitRequest(xhr, formData, files);\n    };\n\n    Dropzone.prototype.submitRequest = function(xhr, formData, files) {\n      return xhr.send(formData);\n    };\n\n    Dropzone.prototype._finished = function(files, responseText, e) {\n      var file, _i, _len;\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        file.status = Dropzone.SUCCESS;\n        this.emit(\"success\", file, responseText, e);\n        this.emit(\"complete\", file);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"successmultiple\", files, responseText, e);\n        this.emit(\"completemultiple\", files);\n      }\n      if (this.options.autoProcessQueue) {\n        return this.processQueue();\n      }\n    };\n\n    Dropzone.prototype._errorProcessing = function(files, message, xhr) {\n      var file, _i, _len;\n      for (_i = 0, _len = files.length; _i < _len; _i++) {\n        file = files[_i];\n        file.status = Dropzone.ERROR;\n        this.emit(\"error\", file, message, xhr);\n        this.emit(\"complete\", file);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"errormultiple\", files, message, xhr);\n        this.emit(\"completemultiple\", files);\n      }\n      if (this.options.autoProcessQueue) {\n        return this.processQueue();\n      }\n    };\n\n    return Dropzone;\n\n  })(Emitter);\n\n  Dropzone.version = \"4.3.0\";\n\n  Dropzone.options = {};\n\n  Dropzone.optionsForElement = function(element) {\n    if (element.getAttribute(\"id\")) {\n      return Dropzone.options[camelize(element.getAttribute(\"id\"))];\n    } else {\n      return void 0;\n    }\n  };\n\n  Dropzone.instances = [];\n\n  Dropzone.forElement = function(element) {\n    if (typeof element === \"string\") {\n      element = document.querySelector(element);\n    }\n    if ((element != null ? element.dropzone : void 0) == null) {\n      throw new Error(\"No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.\");\n    }\n    return element.dropzone;\n  };\n\n  Dropzone.autoDiscover = true;\n\n  Dropzone.discover = function() {\n    var checkElements, dropzone, dropzones, _i, _len, _results;\n    if (document.querySelectorAll) {\n      dropzones = document.querySelectorAll(\".dropzone\");\n    } else {\n      dropzones = [];\n      checkElements = function(elements) {\n        var el, _i, _len, _results;\n        _results = [];\n        for (_i = 0, _len = elements.length; _i < _len; _i++) {\n          el = elements[_i];\n          if (/(^| )dropzone($| )/.test(el.className)) {\n            _results.push(dropzones.push(el));\n          } else {\n            _results.push(void 0);\n          }\n        }\n        return _results;\n      };\n      checkElements(document.getElementsByTagName(\"div\"));\n      checkElements(document.getElementsByTagName(\"form\"));\n    }\n    _results = [];\n    for (_i = 0, _len = dropzones.length; _i < _len; _i++) {\n      dropzone = dropzones[_i];\n      if (Dropzone.optionsForElement(dropzone) !== false) {\n        _results.push(new Dropzone(dropzone));\n      } else {\n        _results.push(void 0);\n      }\n    }\n    return _results;\n  };\n\n  Dropzone.blacklistedBrowsers = [/opera.*Macintosh.*version\\/12/i];\n\n  Dropzone.isBrowserSupported = function() {\n    var capableBrowser, regex, _i, _len, _ref;\n    capableBrowser = true;\n    if (window.File && window.FileReader && window.FileList && window.Blob && window.FormData && document.querySelector) {\n      if (!(\"classList\" in document.createElement(\"a\"))) {\n        capableBrowser = false;\n      } else {\n        _ref = Dropzone.blacklistedBrowsers;\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          regex = _ref[_i];\n          if (regex.test(navigator.userAgent)) {\n            capableBrowser = false;\n            continue;\n          }\n        }\n      }\n    } else {\n      capableBrowser = false;\n    }\n    return capableBrowser;\n  };\n\n  without = function(list, rejectedItem) {\n    var item, _i, _len, _results;\n    _results = [];\n    for (_i = 0, _len = list.length; _i < _len; _i++) {\n      item = list[_i];\n      if (item !== rejectedItem) {\n        _results.push(item);\n      }\n    }\n    return _results;\n  };\n\n  camelize = function(str) {\n    return str.replace(/[\\-_](\\w)/g, function(match) {\n      return match.charAt(1).toUpperCase();\n    });\n  };\n\n  Dropzone.createElement = function(string) {\n    var div;\n    div = document.createElement(\"div\");\n    div.innerHTML = string;\n    return div.childNodes[0];\n  };\n\n  Dropzone.elementInside = function(element, container) {\n    if (element === container) {\n      return true;\n    }\n    while (element = element.parentNode) {\n      if (element === container) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  Dropzone.getElement = function(el, name) {\n    var element;\n    if (typeof el === \"string\") {\n      element = document.querySelector(el);\n    } else if (el.nodeType != null) {\n      element = el;\n    }\n    if (element == null) {\n      throw new Error(\"Invalid `\" + name + \"` option provided. Please provide a CSS selector or a plain HTML element.\");\n    }\n    return element;\n  };\n\n  Dropzone.getElements = function(els, name) {\n    var e, el, elements, _i, _j, _len, _len1, _ref;\n    if (els instanceof Array) {\n      elements = [];\n      try {\n        for (_i = 0, _len = els.length; _i < _len; _i++) {\n          el = els[_i];\n          elements.push(this.getElement(el, name));\n        }\n      } catch (_error) {\n        e = _error;\n        elements = null;\n      }\n    } else if (typeof els === \"string\") {\n      elements = [];\n      _ref = document.querySelectorAll(els);\n      for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {\n        el = _ref[_j];\n        elements.push(el);\n      }\n    } else if (els.nodeType != null) {\n      elements = [els];\n    }\n    if (!((elements != null) && elements.length)) {\n      throw new Error(\"Invalid `\" + name + \"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.\");\n    }\n    return elements;\n  };\n\n  Dropzone.confirm = function(question, accepted, rejected) {\n    if (window.confirm(question)) {\n      return accepted();\n    } else if (rejected != null) {\n      return rejected();\n    }\n  };\n\n  Dropzone.isValidFile = function(file, acceptedFiles) {\n    var baseMimeType, mimeType, validType, _i, _len;\n    if (!acceptedFiles) {\n      return true;\n    }\n    acceptedFiles = acceptedFiles.split(\",\");\n    mimeType = file.type;\n    baseMimeType = mimeType.replace(/\\/.*$/, \"\");\n    for (_i = 0, _len = acceptedFiles.length; _i < _len; _i++) {\n      validType = acceptedFiles[_i];\n      validType = validType.trim();\n      if (validType.charAt(0) === \".\") {\n        if (file.name.toLowerCase().indexOf(validType.toLowerCase(), file.name.length - validType.length) !== -1) {\n          return true;\n        }\n      } else if (/\\/\\*$/.test(validType)) {\n        if (baseMimeType === validType.replace(/\\/.*$/, \"\")) {\n          return true;\n        }\n      } else {\n        if (mimeType === validType) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n\n  if (typeof jQuery !== \"undefined\" && jQuery !== null) {\n    jQuery.fn.dropzone = function(options) {\n      return this.each(function() {\n        return new Dropzone(this, options);\n      });\n    };\n  }\n\n  if (typeof module !== \"undefined\" && module !== null) {\n    module.exports = Dropzone;\n  } else {\n    window.Dropzone = Dropzone;\n  }\n\n  Dropzone.ADDED = \"added\";\n\n  Dropzone.QUEUED = \"queued\";\n\n  Dropzone.ACCEPTED = Dropzone.QUEUED;\n\n  Dropzone.UPLOADING = \"uploading\";\n\n  Dropzone.PROCESSING = Dropzone.UPLOADING;\n\n  Dropzone.CANCELED = \"canceled\";\n\n  Dropzone.ERROR = \"error\";\n\n  Dropzone.SUCCESS = \"success\";\n\n\n  /*\n  \n  Bugfix for iOS 6 and 7\n  Source: http://stackoverflow.com/questions/11929099/html5-canvas-drawimage-ratio-bug-ios\n  based on the work of https://github.com/stomita/ios-imagefile-megapixel\n   */\n\n  detectVerticalSquash = function(img) {\n    var alpha, canvas, ctx, data, ey, ih, iw, py, ratio, sy;\n    iw = img.naturalWidth;\n    ih = img.naturalHeight;\n    canvas = document.createElement(\"canvas\");\n    canvas.width = 1;\n    canvas.height = ih;\n    ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(img, 0, 0);\n    data = ctx.getImageData(0, 0, 1, ih).data;\n    sy = 0;\n    ey = ih;\n    py = ih;\n    while (py > sy) {\n      alpha = data[(py - 1) * 4 + 3];\n      if (alpha === 0) {\n        ey = py;\n      } else {\n        sy = py;\n      }\n      py = (ey + sy) >> 1;\n    }\n    ratio = py / ih;\n    if (ratio === 0) {\n      return 1;\n    } else {\n      return ratio;\n    }\n  };\n\n  drawImageIOSFix = function(ctx, img, sx, sy, sw, sh, dx, dy, dw, dh) {\n    var vertSquashRatio;\n    vertSquashRatio = detectVerticalSquash(img);\n    return ctx.drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh / vertSquashRatio);\n  };\n\n\n  /*\n   * contentloaded.js\n   *\n   * Author: Diego Perini (diego.perini at gmail.com)\n   * Summary: cross-browser wrapper for DOMContentLoaded\n   * Updated: 20101020\n   * License: MIT\n   * Version: 1.2\n   *\n   * URL:\n   * http://javascript.nwbox.com/ContentLoaded/\n   * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE\n   */\n\n  contentLoaded = function(win, fn) {\n    var add, doc, done, init, poll, pre, rem, root, top;\n    done = false;\n    top = true;\n    doc = win.document;\n    root = doc.documentElement;\n    add = (doc.addEventListener ? \"addEventListener\" : \"attachEvent\");\n    rem = (doc.addEventListener ? \"removeEventListener\" : \"detachEvent\");\n    pre = (doc.addEventListener ? \"\" : \"on\");\n    init = function(e) {\n      if (e.type === \"readystatechange\" && doc.readyState !== \"complete\") {\n        return;\n      }\n      (e.type === \"load\" ? win : doc)[rem](pre + e.type, init, false);\n      if (!done && (done = true)) {\n        return fn.call(win, e.type || e);\n      }\n    };\n    poll = function() {\n      var e;\n      try {\n        root.doScroll(\"left\");\n      } catch (_error) {\n        e = _error;\n        setTimeout(poll, 50);\n        return;\n      }\n      return init(\"poll\");\n    };\n    if (doc.readyState !== \"complete\") {\n      if (doc.createEventObject && root.doScroll) {\n        try {\n          top = !win.frameElement;\n        } catch (_error) {}\n        if (top) {\n          poll();\n        }\n      }\n      doc[add](pre + \"DOMContentLoaded\", init, false);\n      doc[add](pre + \"readystatechange\", init, false);\n      return win[add](pre + \"load\", init, false);\n    }\n  };\n\n  Dropzone._autoDiscoverFunction = function() {\n    if (Dropzone.autoDiscover) {\n      return Dropzone.discover();\n    }\n  };\n\n  contentLoaded(window, Dropzone._autoDiscoverFunction);\n\n}).call(this);\n","/* eslint-env browser */\nimport Dropzone from 'dropzone';\nimport { findOne, on, show, hide, styles } from 'domassist';\n\nconst opts = window.uploaderSetup;\n\nconst sendMessage = function(event) {\n  if (!window.parent) {\n    return;\n  }\n  window.parent.postMessage(JSON.stringify(event), '*');\n};\n\nlet dropzone;\n\nDropzone.options.uploader = {\n  init() {\n    dropzone = this;\n  },\n  uploadMultiple: false,\n  maxFiles: 1,\n  uploadprogress(file, progress) {\n    hide('#uploader');\n    show(['#progress', '#status']);\n    if (progress > 97) {\n      findOne('#status').innerHTML = 'Optimizing Image...';\n    }\n    styles('#progress .bar', {\n      width: `${progress}%`\n    });\n  },\n  complete(file) {\n    const event = {};\n    if (file.status !== 'success') {\n      findOne('#status').innerHTML = 'There was an error.';\n      event.type = 'error';\n      event.data = {\n        status: file.xhr.status,\n        message: file.xhr.statusText\n      };\n\n      return sendMessage(event);\n    }\n\n    const response = file.xhr.response;\n    const obj = JSON.parse(response);\n    const imageUrl = obj.location;\n\n    hide(['#uploader', '#progress', '#status']);\n    styles('#results', {\n      backgroundImage: `url(${imageUrl})`,\n      display: 'block'\n    });\n    show('#clear');\n\n    event.type = 'complete';\n    event.data = obj;\n\n    if (opts.inputId) {\n      event.inputId = opts.inputId;\n    }\n    sendMessage(event);\n  }\n};\n\non('#clear', 'click', () => {\n  dropzone.removeAllFiles();\n  show('#uploader');\n  hide(['#results', '#clear']);\n  const event = {\n    type: 'clear'\n  };\n  sendMessage(event);\n});\n"],"names":["findOne","selector","el","found","find","length","isWindow","obj","window","context","HTMLElement","Node","NodeList","slice","call","startElement","document","querySelectorAll","on","event","cb","capture","Array","isArray","forEach","item","data","_domassistevents","addEventListener","hide","els","currentDisplay","getComputedStyle","getPropertyValue","dataset","_currentDisplay","style","display","getScrollableContainer","SCROLLABLE_CONTAINER","documentElement","scrollableContainer","scrollTop","body","show","styles","css","keys","key","Dropzone","Emitter","camelize","contentLoaded","detectVerticalSquash","drawImageIOSFix","noop","without","__slice","__hasProp","hasOwnProperty","__extends","child","parent","ctor","constructor","prototype","__super__","fn","_callbacks","this","push","emit","args","callback","callbacks","_i","_len","arguments","apply","removeListener","off","removeAllListeners","removeEventListener","i","splice","_super","element","options","elementOptions","fallback","_ref","version","defaultOptions","previewTemplate","replace","clickableElements","listeners","files","querySelector","nodeType","Error","dropzone","instances","optionsForElement","extend","forceFallback","isBrowserSupported","url","getAttribute","acceptedFiles","acceptedMimeTypes","method","toUpperCase","getExistingFallback","parentNode","removeChild","previewsContainer","getElement","clickable","getElements","init","resolveOption","events","file","done","messageElement","span","className","getElementsByTagName","test","createElement","appendChild","textContent","dictFallbackMessage","innerText","getFallbackForm","info","srcRatio","trgRatio","width","height","optWidth","thumbnailWidth","optHeight","thumbnailHeight","srcWidth","srcHeight","trgHeight","trgWidth","srcX","srcY","e","classList","remove","add","node","removeFileEvent","removeLink","_j","_k","_len1","_len2","_ref1","_ref2","_results","previewElement","trim","_renameFilename","name","innerHTML","filesize","size","addRemoveLinks","_removeLink","dictRemoveFile","_this","preventDefault","stopPropagation","status","UPLOADING","confirm","dictCancelUploadConfirmation","removeFile","dictRemoveFileConfirmation","_updateMaxFilesReachedClass","dataUrl","thumbnailElement","alt","src","setTimeout","message","error","dictCancelUpload","progress","bytesSent","nodeName","value","object","objects","target","val","getAcceptedFiles","accepted","getRejectedFiles","getFilesWithStatus","getQueuedFiles","QUEUED","getUploadingFiles","getAddedFiles","ADDED","getActiveFiles","eventName","noPropagation","setupHiddenFileInput","tagName","setAttribute","contains","dictDefaultMessage","hiddenFileInput","maxFiles","visibility","position","top","left","hiddenInputContainer","addFile","URL","webkitURL","updateTotalUploadProgress","returnValue","efct","dataTransfer","effectAllowed","_error","dropEffect","drop","clickableElement","evt","elementInside","click","enable","destroy","disable","removeAllFiles","indexOf","activeFiles","totalBytes","totalBytesSent","totalUploadProgress","upload","total","_getParamName","n","paramName","uploadMultiple","renameFilename","existingFallback","fields","fieldsString","form","dictFallbackText","getFallback","elements","setupEventListeners","elementListeners","listener","_results1","removeEventListeners","cancelUpload","cutoff","selectedSize","selectedUnit","unit","units","Math","pow","filesizeBase","round","items","webkitGetAsEntry","_addFilesFromItems","handleFiles","paste","clipboardData","entry","isFile","getAsFile","isDirectory","_addFilesFromDirectory","kind","directory","path","dirReader","errorHandler","readEntries","createReader","console","log","entries","ignoreHiddenFiles","substring","fullPath","accept","maxFilesize","dictFileTooBig","isValidFile","dictMaxFilesExceeded","dictInvalidFileType","_enqueueThumbnail","_errorProcessing","autoQueue","enqueueFile","enqueueFiles","autoProcessQueue","processQueue","_thumbnailQueue","_processingThumbnail","createImageThumbnails","type","match","maxThumbnailFilesize","_processThumbnailQueue","createThumbnail","shift","cancelIfNecessary","fileReader","FileReader","onload","result","createThumbnailFromUrl","readAsDataURL","imageUrl","crossOrigin","img","canvas","ctx","resizeInfo","thumbnail","_ref3","resize","getContext","trgX","trgY","toDataURL","onerror","parallelUploads","processingLength","queuedFiles","processFiles","processFile","processing","uploadFiles","_getFilesWithXhr","xhr","groupedFile","groupedFiles","CANCELED","abort","option","uploadFile","formData","handleError","headerName","headerValue","headers","input","inputName","inputType","progressObj","response","updateProgress","_l","_len3","_m","_ref4","_ref5","XMLHttpRequest","open","withCredentials","dictResponseError","allFilesFinished","loaded","readyState","responseText","getResponseHeader","JSON","parse","_finished","onprogress","setRequestHeader","FormData","params","append","hasAttribute","selected","toLowerCase","checked","submitRequest","send","SUCCESS","ERROR","forElement","autoDiscover","discover","checkElements","dropzones","blacklistedBrowsers","capableBrowser","regex","File","FileList","Blob","navigator","userAgent","list","rejectedItem","str","charAt","string","div","childNodes","container","question","rejected","baseMimeType","mimeType","validType","split","jQuery","each","module","ACCEPTED","PROCESSING","alpha","ey","ih","iw","py","ratio","sy","naturalWidth","naturalHeight","drawImage","getImageData","sx","sw","sh","dx","dy","dw","dh","vertSquashRatio","win","doc","poll","pre","rem","root","doScroll","createEventObject","frameElement","_autoDiscoverFunction","opts","uploaderSetup","sendMessage","postMessage","stringify","uploader","statusText","location","inputId"],"mappings":"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"}